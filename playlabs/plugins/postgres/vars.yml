---
project_postgres_password: >-
  {{
    postgres_password|default(
        hostvars[inventory_hostname].get(
            pvar + "_postgres_password",
            ''
        )
    )
  }}

project_postgres_db: >-
  {{
    postgres_db|default(
        hostvars[inventory_hostname].get(
            pvar + "_postgres_db",
            fsvar,
        )
    )
  }}

project_postgres_user: >-
  {{
    postgres_user|default(
        hostvars[inventory_hostname].get(
            pvar + "_postgres_user",
            fsvar,
        )
    )
  }}

project_postgres_home: >-
  {{
    postgres_home|default(
        hostvars[inventory_hostname].get(
            pvar + "_postgres_home",
            project_home + 'postgres/',
        )
    )
  }}

project_postgres_data: >-
  {{
    postgres_user|default(
        hostvars[inventory_hostname].get(
            pvar + "_postgres_data",
            {{ project_postgres_home }},
        )
    )
  }}

project_postgres_host: '{{ fsvar }}-postgres'

project_postgres_env:
  DB_USER: '{{ project_postgres_user }}'
  DB_PASSWORD: '{{ project_postgres_password }}'
  DB_HOST: '{{ project_postgres_host }}'
  DB_NAME: '{{ project_postgres_db }}'
